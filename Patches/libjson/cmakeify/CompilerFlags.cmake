if(NOT CMAKE_BUILD_TYPE)
  set(CMAKE_BUILD_TYPE "Release" CACHE STRING "" FORCE)
endif()

if(NOT DEFINED _DEFAULT_FLAGS_SET)
  set(_DEFAULT_FLAGS_SET True CACHE INTERNAL "")
  if(CMAKE_CXX_COMPILER_ID MATCHES "GNU")
    set(CMAKE_C_FLAGS_RELEASE      "${CMAKE_C_FLAGS_RELEASE} -ffast-math -fexpensive-optimizations" CACHE STRING "" FORCE)
    set(CMAKE_C_FLAGS_MINSIZEREL   "${CMAKE_C_FLAGS_MINSIZEREL} -ffast-math" CACHE STRING "" FORCE)
    set(CMAKE_CXX_FLAGS_RELEASE    "${CMAKE_CXX_FLAGS_RELEASE} -ffast-math -fexpensive-optimizations" CACHE STRING "" FORCE)
    set(CMAKE_CXX_FLAGS_MINSIZEREL "${CMAKE_CXX_FLAGS_MINSIZEREL} -ffast-math" CACHE STRING "" FORCE)
  endif()
endif()
